# Введем систему баллов

Это добавит мотивацию и позволит более гибко отслеживать прогресс выполнения привычек. 


## Расширенный формат YAML с системой баллов

```yaml
habits:
- name: "Утренняя зарядка"
  type: "simple"
  points: 10  # Баллы за выполнение

- name: "Отжимания"
  type: "counter"
  target: 30
  points: 20  # Максимальное количество баллов
  points_mode: "proportional"  # Пропорциональное начисление баллов

- name: "Проснуться в 6 утра"
  type: "time"
  target_time: "06:00"
  max_time: "08:00"  # Время, после которого баллы не начисляются
  points: 100
  points_mode: "time_based"  # Баллы начисляются пропорционально времени пробуждения

- name: "Медитация"
  type: "duration"
  target_duration: "15m"
  points: 15
  points_mode: "proportional"

- name: "Шаги в неделю"
  type: "cumulative"
  target: 70000
  unit: "steps"
  points: 50
  points_mode: "proportional"
```

### Объяснение полей:

	•	points — максимальное количество баллов за выполнение привычки.
	•	points_mode — режим начисления баллов:
	•	"fixed" — фиксированное количество баллов за факт выполнения (по умолчанию для простых привычек).
	•	"proportional" — начисление баллов пропорционально проценту выполнения (для привычек типа counter, duration, cumulative).
	•	"time_based" — начисление баллов пропорционально времени выполнения (для привычек типа time).

### Логика начисления баллов:

	1.	Обычная привычка (simple):
	•	Начисляется фиксированное количество баллов за выполнение.
	•	Пример: Утренняя зарядка = 10 баллов.
	2.	Целевая привычка (counter, duration, cumulative):
	•	Баллы начисляются пропорционально проценту выполнения.
	•	Пример: Отжимания (цель — 30, выполнено — 20) = 20/30 * 20 баллов = 13.3 балла.
	3.	Привычка по времени (time_based):
	•	Баллы начисляются в зависимости от времени выполнения в указанном интервале.
	•	Пример: Проснуться в 6 утра (цель — 6:00, максимум — 8:00):
	•	Проснулся в 6:00 = 100 баллов.
	•	Проснулся в 7:00 = 50 баллов.
	•	Проснулся в 8:00 или позже = 0 баллов.
	•	Логика расчёта: (max_time - actual_time) / (max_time - target_time) * points.

### Пример использования:

	1.	Ты проснулся в 7 утра:
	•	Бот проверяет интервал от 6:00 до 8:00.
	•	Начисляет 50% от 100 баллов = 50 баллов.
	2.	Ты сделал 20 отжиманий из 30:
	•	Бот начисляет 20/30 * 20 баллов = 13.3 балла.

---

Prev:: [Дополнительные типы привычек](5-draft-habit-types.md)

Next:: [Типы привычек - саммари](7-draft-types-summary.md)